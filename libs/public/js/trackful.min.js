(function(){window.TRACKFUL_KEY=window.TRACKFUL_KEY||null;var c=window.TRACKFUL_KEY;if(null!=c){hit=function(a){hitData={key:a,page:window.location.href};useSender("/endpoint/hits",hitData)};useSender=function(a,c){var b=new XMLHttpRequest;b.open("POST",a,!0);b.setRequestHeader("Content-Type","application/json");b.onreadystatechange=function(){4!=b.readyState&&200!=b.status&&console.error("Trackful: Somethings going wrong with tracking. Visit http://trackful.io to cross check your setup again.")};
b.send(JSON.stringify(c))};trackHandler=function(a){trackData={key:c,tracker:a.target.getAttribute("data-track")};useSender("/endpoint/clicks",trackData)};newTrackMap=function(a){trackMap=document.querySelectorAll("[data-track]")};newTrackMap(null);for(var d=0;d<trackMap.length;d++)trackMap[d].addEventListener("click",trackHandler,!1);hit(c)}else console.debug("Trackful: You haven't initalised your track key. Assign it to window.TRACKFUL_KEY")})();
