(function(){window.TRACKFUL_KEY=window.TRACKFUL_KEY||null;var d=window.TRACKFUL_KEY;null!=d?(hit=function(a){hitData={key:a,page:window.location.href};useSender("//trackful.io/endpoint/hits",hitData)},useSender=function(a,c){var b=new XMLHttpRequest;b.open("POST",a,!0);b.setRequestHeader("Content-Type","application/json");b.withCredentials=!1;b.onreadystatechange=function(){4!=b.readyState&&200!=b.status&&console.error("Trackful: Somethings going wrong with tracking. Visit http://trackful.io to cross check your setup again.")};
b.send(JSON.stringify(c))},trackHandler=function(a){a={key:d,tracker:a.target.getAttribute("data-track")};useSender("//trackful.io/endpoint/clicks",a);return!0},newTrackMap=function(a){a=document.querySelectorAll("[data-track]");for(var c=0;c<a.length;c++)a[c].addEventListener("click",trackHandler)},newTrackMap(null),hit(d)):console.debug("Trackful: You haven't initalised your track key. Assign it to window.TRACKFUL_KEY")})();
